# 更新日志

本文档记录项目的主要更新和变更。

---

## [1.1.0] - 2025-10-20

### 新增功能

#### 自动数据同步系统
- ✨ **页面加载同步**: 用户打开页面时自动同步一次飞书数据
- ⏰ **定时自动同步**: 每小时自动同步一次(可配置)
- 🎛️ **用户控制开关**: 用户可通过页头复选框开启/关闭自动同步
- ⏳ **倒计时显示**: 实时显示距离下次同步的剩余时间
- 💾 **偏好持久化**: 用户的自动同步设置保存在浏览器本地存储中
- 🔄 **手动同步**: 保留手动"同步数据"按钮,可随时手动触发

#### 技术实现
- 前端使用 React useEffect + setInterval 实现定时器
- 自动同步逻辑在 `frontend/src/App.js:105-144`
- 倒计时UI在 `frontend/src/components/Header.js:35-102`
- 同步间隔: 3600000毫秒 (1小时)
- 倒计时更新频率: 60000毫秒 (1分钟)

### 文档更新

- 📖 创建 `docs/FEATURES.md` - 详细功能说明文档
- 📝 更新 `README.md` - 添加核心功能说明和快速开始指南
- 📚 更新 `README_DEPLOY.md` - 添加自动同步功能说明
- 📋 更新 `DEPLOY_CHECKLIST.md` - 添加自动同步功能检查项
- 📦 更新 `DEPLOYMENT_FILES_SUMMARY.md` - 添加功能测试说明
- 🔧 更新 `docs/DEPLOYMENT_GUIDE.md` - 添加系统功能概述
- 💻 更新 `CLAUDE.md` - 更新项目概述和核心功能

### 优化改进

- 🎨 优化UI显示: 移动端显示时钟图标,桌面端显示完整文字
- 📱 响应式设计: 自动同步控制在不同屏幕尺寸下有不同展示方式
- 🔔 用户体验: 同步成功/失败消息3秒后自动消失
- 🎯 性能优化: 使用 useCallback 和 useMemo 避免不必要的重新渲染

---

## [1.0.0] - 2025-10-17

### 核心功能

#### 数据同步
- 🔌 飞书多维表格数据同步
- 📊 支持跨天任务自动展开
- 💾 SQLite/MySQL双数据库支持
- 🔑 API密钥认证机制
- 🚦 API请求限流保护

#### 视图展示
- 📅 **周视图**:
  - 按日期视图(周一到周五列式展示)
  - 按工程师视图(工程师行式展示)
- 📆 **月视图**: 日历形式展示整月任务
- 🔄 时间导航: 支持上一周/下一周、上个月/下个月切换
- 🏠 快速回到本周/本月

#### 任务管理
- 🏷️ 任务卡片: 显示客户、内容、工程师、优先级、时间、状态
- 🎨 优先级着色:
  - 红色: 非常紧急
  - 橙色: 紧急
  - 蓝色: 重要
- 📊 统计面板: 实时统计各优先级任务数量

#### 数据筛选
- 🔍 支持自定义筛选器配置
- 📝 筛选操作符: equals, contains, in, not_empty等
- ⚙️ 可通过 `filter_config.json` 配置

#### API接口
- 🔌 RESTful API设计
- 📖 Swagger UI自动文档
- 🔑 多级API密钥支持(管理员/只读)
- 🚦 请求限流(100次/分钟)
- 🏥 健康检查端点

#### 部署支持
- 🐳 Docker容器化部署
- 📦 Docker Compose编排
- 🔧 一键部署脚本
- ✅ 部署前环境检查
- 💾 自动数据库备份脚本

### 技术栈

**后端**:
- FastAPI (Python 3.9)
- SQLite / MySQL
- uvicorn (ASGI服务器)
- OpenAPI 3.0

**前端**:
- React 18
- Create React App
- Tailwind CSS
- Font Awesome图标

**部署**:
- Docker 20.10+
- Docker Compose 1.29+
- Nginx (前端服务器)

---

## 版本号说明

本项目使用语义化版本号 (Semantic Versioning):

- **主版本号 (MAJOR)**: 不兼容的API变更
- **次版本号 (MINOR)**: 向下兼容的功能新增
- **修订号 (PATCH)**: 向下兼容的问题修正

格式: `MAJOR.MINOR.PATCH`

---

## 贡献者

感谢所有为本项目做出贡献的开发者!

---

**文档链接**:
- [功能说明](docs/FEATURES.md)
- [部署指南](docs/DEPLOYMENT_GUIDE.md)
- [API文档](docs/API_USAGE_GUIDE.md)
