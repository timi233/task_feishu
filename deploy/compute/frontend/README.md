# 派工系统前端 (风格1)

## 项目结构

- `index.html`: 前端页面文件，包含HTML、CSS和JavaScript。

## 配置说明

在 `index.html` 文件的 `<script>` 部分顶部，有以下配置项需要修改：

- `BACKEND_BASE_URL`: 后端服务的基地址。默认为 `http://localhost:8000`。如果你部署了后端服务到其他地址，请修改此项。

## 部署与运行

1.  **本地开发**:
    -   推荐使用一个简单的HTTP服务器来提供服务，例如：
        -   使用 Python (内置):
            ```bash
            # 在 frontend 目录下执行
            python -m http.server 3000
            ```
            然后在浏览器中访问 `http://localhost:3000`。
        -   使用 Node.js (需要安装 `http-server`):
            ```bash
            npm install -g http-server
            # 在 frontend 目录下执行
            http-server -p 3000
            ```
            然后在浏览器中访问 `http://localhost:3000`。

2.  **与后端联调**:
    -   确保后端服务已经启动并在 `BACKEND_BASE_URL` 配置的地址上运行。
    -   打开前端页面，页面会自动尝试加载任务数据。
    -   如果自动加载失败，可以点击页面上的“登录/刷新”按钮手动触发数据获取。

## 代码说明

-   **HTML/CSS**: 基本沿用了原始的风格1设计，并添加了加载指示器、错误提示和一个用于手动触发数据获取的按钮。
-   **JavaScript**:
    -   负责页面初始化、与后端API交互、动态渲染任务卡片和统计信息。
    -   移除了用户身份验证逻辑，直接请求后端的 `/api/tasks` 接口。
    -   使用了 `fetch` API 进行网络请求。
    -   添加了基础的错误处理。

## 注意事项

1.  **跨域问题**: 直接用文件协议 (`file://`) 打开 `index.html` 会因为浏览器安全策略导致无法请求后端API。务必使用HTTP服务器。
2.  **后端依赖**: 前端的正常工作依赖于后端服务的正确配置和运行，特别是飞书应用的凭证和多维表格信息。